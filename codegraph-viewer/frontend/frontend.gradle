node {
    version = '10.5.0'
    download = true
    npmWorkDir = file("$projectDir/frontend")
    nodeModulesDir = file("$projectDir/frontend")
}

sourceSets {
    js {
        resources {
            srcDir 'frontend'
        }
    }
}

license {
    excludes([
        '**/*.json',
        '**/node_modules/**/*',
        '**/Gruntfile.js',
        '**/test/**/*.js',
        '**/dist/*',
        '**/stories/**/*.js',
        '**/.storybook/**/*'
    ])
}

task npmBuild(type: NpmTask, dependsOn: npmInstall) {
    args = ['run', 'build']
}

build.dependsOn npmBuild
